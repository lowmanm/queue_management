<div class="workspace-container">
  <app-header (toggleLogs)="toggleLogViewer()"></app-header>

  <div class="workspace-body">
    <app-sidebar></app-sidebar>

    <div class="workspace-main">
      <app-main-stage></app-main-stage>

      <!-- Connecting overlay -->
      @if (isConnecting) {
        <div class="status-overlay connecting">
          <div class="status-content">
            <div class="spinner"></div>
            <h2>Connecting...</h2>
            <p>Establishing connection to queue server</p>
          </div>
        </div>
      }

      <!-- Waiting for task overlay -->
      @if (isWaitingForTask) {
        <div class="status-overlay waiting">
          <div class="status-content">
            <div class="pulse-ring"></div>
            <h2>Ready for Work</h2>
            <p>Waiting for next task assignment...</p>
            <p class="hint">Upload and execute a CSV file via the <a routerLink="/admin">Admin Panel</a> to populate the queue.</p>
          </div>
        </div>
      }

      <app-action-bar></app-action-bar>
    </div>
  </div>
</div>

<!-- Log Viewer Modal -->
@if (showLogViewer) {
  <app-log-viewer (close)="closeLogViewer()"></app-log-viewer>
}
